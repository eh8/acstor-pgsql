apiVersion: v1
kind: ConfigMap
metadata:
  name: sample-data-sql
  namespace: cnpg-lab
data:
  sample.sql: |
    CREATE TABLE accounts (
      id BIGSERIAL PRIMARY KEY,
      name TEXT NOT NULL,
      balance NUMERIC(12,2) NOT NULL DEFAULT 0
    );

    CREATE TABLE orders (
      id BIGSERIAL PRIMARY KEY,
      account_id BIGINT NOT NULL REFERENCES accounts(id),
      item TEXT NOT NULL,
      quantity INT NOT NULL,
      price NUMERIC(12,2) NOT NULL,
      created_at TIMESTAMPTZ NOT NULL DEFAULT now()
    );

    INSERT INTO accounts (name, balance) VALUES
      ('Ada Lovelace', 1250.00),
      ('Grace Hopper', 980.50),
      ('Donald Knuth', 150.75);

    INSERT INTO orders (account_id, item, quantity, price) VALUES
      (1, 'notebook', 3, 4.99),
      (2, 'desk lamp', 1, 32.50),
      (3, 'book', 2, 18.00);
